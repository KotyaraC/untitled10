import React, { useState } from 'react';
import { useArticleTheme } from './ArticleThemeContext';
import { Card } from 'primereact/card';
import { Button } from 'primereact/button';
import { Divider } from 'primereact/divider';
import { Dialog } from 'primereact/dialog';

const articles = {
    technology: [
        { id: 1, title: 'Найновіші тенденції в технологіях', content: 'Технології змінюють світ. Це одна з найбільших трансформацій в нашій історії. Інновації від штучного інтелекту до квантових комп’ютерів змінюють наше життя в усіх сферах — від медицини до транспорту. Сучасні технології пропонують безліч можливостей для покращення наших умов життя, але одночасно виникають нові виклики та загрози, що потребують уваги та рішучих дій з боку суспільства і урядів.' },
        { id: 2, title: 'Роботи в майбутньому', content: 'Роботи, автоматизація та штучний інтелект скоро змінять спосіб, яким ми працюємо. Вже зараз ми бачимо, як роботи витісняють людей з багатьох традиційних виробничих процесів. Проте це не означає, що людська праця стане застарілою. Навпаки, багато нових сфер та можливостей для кар’єрного розвитку з’являться завдяки роботизації. Майбутнє належить тим, хто готовий освоювати нові технології та адаптуватися до змін.' },
    ],
    health: [
        { id: 1, title: 'Як підтримувати здоров\'я серця', content: 'Здоров’я серця — це один з найважливіших аспектів нашого загального здоров’я. Щоб підтримувати серце в хорошому стані, необхідно дотримуватись здорового способу життя: правильне харчування, фізична активність, відсутність шкідливих звичок. Окрім того, важливо регулярно проходити медичні огляди для раннього виявлення проблем з серцем, таких як гіпертонія чи атеросклероз.' },
        { id: 2, title: 'Здорове харчування для активного життя', content: 'Правильне харчування — це не тільки те, що ми їмо, а й коли та як ми їмо. Харчування повинно бути збалансованим, з достатньою кількістю білків, вуглеводів, жирів, вітамінів і мінералів. Важливо пити достатньо води та уникати перевантаження організму фастфудом чи висококалорійними продуктами. Всі ці фактори допомагають зберігати енергію для активного способу життя та підтримують загальний тонус організму.' },
    ],
    business: [
        { id: 1, title: 'Бізнес стратегії на 2024 рік', content: '2024 рік ставить нові виклики для бізнесменів: нестабільність економік, технологічні зміни та глобальні соціальні проблеми. Для того щоб залишатися конкурентоспроможним, компанії повинні адаптувати свої стратегії до нових реалій. Успішні стратегії на 2024 рік повинні включати інвестиції в інновації, підтримку стійких бізнес-процесів, а також розширення на нові ринки та використання цифрових технологій для підвищення ефективності.' },
        { id: 2, title: 'Як розпочати власний бізнес', content: 'Запуск власного бізнесу — це завжди складний, але захоплюючий процес. З перших кроків необхідно правильно вибрати ідею, що відповідає попиту на ринку, і розробити бізнес-план. Серед інших важливих аспектів — фінансування, залучення клієнтів та побудова стійкої команди. Однак успіх підприємства залежить від здатності адаптуватися до змін і мати чітке розуміння майбутнього бізнесу.' },
    ],
    science: [
        { id: 1, title: 'Новітні відкриття в науці', content: 'У світі науки постійно відбуваються нові відкриття, які змінюють наше розуміння фізики, хімії та біології. Серед найбільш важливих досягнень можна виділити відкриття нових матеріалів, таких як графен, та розвитку в галузі нанотехнологій. Ці відкриття можуть призвести до революційних змін у виробництві, енергетиці та медицині.' },
        { id: 2, title: 'Майбутнє космічних досліджень', content: 'Космічні дослідження відкривають нові горизонти в нашому розумінні Всесвіту. Сучасні технології дозволяють вивчати планети за межами нашої Сонячної системи, а також готуватися до пілотованих місій на Марс. Науковці прогнозують, що в майбутньому космічні дослідження стануть не лише інструментом для вивчення космосу, а й допоможуть у розв’язанні земних проблем, таких як зміна клімату.' },
    ]
};

const ArticleList = () => {
    const { theme } = useArticleTheme();
    const [dialogVisible, setDialogVisible] = useState(false);
    const [selectedArticle, setSelectedArticle] = useState(null);

    const showDialog = (article) => {
        setSelectedArticle(article);
        setDialogVisible(true);
    };

    const hideDialog = () => {
        setDialogVisible(false);
    };

    return (
        <div className="container mt-4">
            <h3 className="text-center mb-4">
                Статті на тему: {theme.charAt(0).toUpperCase() + theme.slice(1)}
            </h3>
            <div className="row">
                {articles[theme]?.map((article) => (
                    <div key={article.id} className="col-md-6 col-lg-4 mb-4">
                        <Card className="shadow-2" title={article.title}>
                            {/* Відображення короткого тексту */}
                            <p>{article.content.slice(0, 50)}...</p>
                            <Divider />
                            <Button label="Читати більше" className="p-button-link p-button-text" onClick={() => showDialog(article)} />
                        </Card>
                    </div>
                ))}
            </div>

            {selectedArticle && (
                <Dialog
                    header={selectedArticle.title}
                    visible={dialogVisible}
                    style={{ width: '70vw' }}
                    onHide={hideDialog}
                    modal
                    maximizable
                    blockScroll
                >
                    <div style={{ maxHeight: '60vh', overflowY: 'auto' }}>
                        <p>{selectedArticle.content}</p>
                    </div>
                </Dialog>
            )}
        </div>
    );
};

export default ArticleList;
